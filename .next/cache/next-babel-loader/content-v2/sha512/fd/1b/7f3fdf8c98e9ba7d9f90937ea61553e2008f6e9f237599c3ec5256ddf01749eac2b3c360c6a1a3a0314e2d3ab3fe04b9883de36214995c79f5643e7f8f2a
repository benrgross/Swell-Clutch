{"ast":null,"code":"import prisma from \"../../lib/prisma\";\nimport { getSession } from \"next-auth/client\"; // POST /api/post\n// Required fields in body: title\n// Optional fields in body: content\n\nexport default async function handle(req, res) {\n  console.log(req.body);\n\n  if (req.method === \"POST\") {\n    try {\n      var _session$user;\n\n      const session = await getSession({\n        req\n      });\n      const result = await prisma.swell.create({\n        data: {\n          spotId: req.body.spotId,\n          spotName: req.body.spotName,\n          dateStr: req.body.dateStr,\n          report: req.body.report,\n          swell1: req.body.swell1 || \" \",\n          swell2: req.body.swell2 || \" \",\n          swell3: req.body.swell3 || \" \",\n          swell4: req.body.swell4 || \" \",\n          swell5: req.body.swell5 || \" \",\n          swell6: req.body.swell6 || \" \",\n          wind: req.body.wind,\n          tide: req.body.tide,\n          notes: req.body.notes || \" \",\n          account: {\n            connect: {\n              email: session === null || session === void 0 ? void 0 : (_session$user = session.user) === null || _session$user === void 0 ? void 0 : _session$user.email\n            }\n          }\n        }\n      });\n      res.json(result);\n    } catch (err) {\n      res.send(err);\n      console.log(err);\n    }\n  }\n}","map":{"version":3,"sources":["/Users/bengross/Desktop/Swell Clutch/Swell-Clutch/pages/api/saveSwell.js"],"names":["prisma","getSession","handle","req","res","console","log","body","method","session","result","swell","create","data","spotId","spotName","dateStr","report","swell1","swell2","swell3","swell4","swell5","swell6","wind","tide","notes","account","connect","email","user","json","err","send"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,kBAAnB;AAEA,SAASC,UAAT,QAA2B,kBAA3B,C,CAEA;AACA;AACA;;AACA,eAAe,eAAeC,MAAf,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgC;AAC7CC,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,IAAhB;;AACA,MAAIJ,GAAG,CAACK,MAAJ,KAAe,MAAnB,EAA2B;AACzB,QAAI;AAAA;;AACF,YAAMC,OAAO,GAAG,MAAMR,UAAU,CAAC;AAAEE,QAAAA;AAAF,OAAD,CAAhC;AACA,YAAMO,MAAM,GAAG,MAAMV,MAAM,CAACW,KAAP,CAAaC,MAAb,CAAoB;AACvCC,QAAAA,IAAI,EAAE;AACJC,UAAAA,MAAM,EAAEX,GAAG,CAACI,IAAJ,CAASO,MADb;AAEJC,UAAAA,QAAQ,EAAEZ,GAAG,CAACI,IAAJ,CAASQ,QAFf;AAGJC,UAAAA,OAAO,EAAEb,GAAG,CAACI,IAAJ,CAASS,OAHd;AAIJC,UAAAA,MAAM,EAAEd,GAAG,CAACI,IAAJ,CAASU,MAJb;AAKJC,UAAAA,MAAM,EAAEf,GAAG,CAACI,IAAJ,CAASW,MAAT,IAAmB,GALvB;AAMJC,UAAAA,MAAM,EAAEhB,GAAG,CAACI,IAAJ,CAASY,MAAT,IAAmB,GANvB;AAOJC,UAAAA,MAAM,EAAEjB,GAAG,CAACI,IAAJ,CAASa,MAAT,IAAmB,GAPvB;AAQJC,UAAAA,MAAM,EAAElB,GAAG,CAACI,IAAJ,CAASc,MAAT,IAAmB,GARvB;AASJC,UAAAA,MAAM,EAAEnB,GAAG,CAACI,IAAJ,CAASe,MAAT,IAAmB,GATvB;AAUJC,UAAAA,MAAM,EAAEpB,GAAG,CAACI,IAAJ,CAASgB,MAAT,IAAmB,GAVvB;AAWJC,UAAAA,IAAI,EAAErB,GAAG,CAACI,IAAJ,CAASiB,IAXX;AAYJC,UAAAA,IAAI,EAAEtB,GAAG,CAACI,IAAJ,CAASkB,IAZX;AAaJC,UAAAA,KAAK,EAAEvB,GAAG,CAACI,IAAJ,CAASmB,KAAT,IAAkB,GAbrB;AAcJC,UAAAA,OAAO,EAAE;AAAEC,YAAAA,OAAO,EAAE;AAAEC,cAAAA,KAAK,EAAEpB,OAAF,aAAEA,OAAF,wCAAEA,OAAO,CAAEqB,IAAX,kDAAE,cAAeD;AAAxB;AAAX;AAdL;AADiC,OAApB,CAArB;AAkBAzB,MAAAA,GAAG,CAAC2B,IAAJ,CAASrB,MAAT;AACD,KArBD,CAqBE,OAAOsB,GAAP,EAAY;AACZ5B,MAAAA,GAAG,CAAC6B,IAAJ,CAASD,GAAT;AACA3B,MAAAA,OAAO,CAACC,GAAR,CAAY0B,GAAZ;AACD;AACF;AACF","sourcesContent":["import prisma from \"../../lib/prisma\";\n\nimport { getSession } from \"next-auth/client\";\n\n// POST /api/post\n// Required fields in body: title\n// Optional fields in body: content\nexport default async function handle(req, res) {\n  console.log(req.body);\n  if (req.method === \"POST\") {\n    try {\n      const session = await getSession({ req });\n      const result = await prisma.swell.create({\n        data: {\n          spotId: req.body.spotId,\n          spotName: req.body.spotName,\n          dateStr: req.body.dateStr,\n          report: req.body.report,\n          swell1: req.body.swell1 || \" \",\n          swell2: req.body.swell2 || \" \",\n          swell3: req.body.swell3 || \" \",\n          swell4: req.body.swell4 || \" \",\n          swell5: req.body.swell5 || \" \",\n          swell6: req.body.swell6 || \" \",\n          wind: req.body.wind,\n          tide: req.body.tide,\n          notes: req.body.notes || \" \",\n          account: { connect: { email: session?.user?.email } },\n        },\n      });\n      res.json(result);\n    } catch (err) {\n      res.send(err);\n      console.log(err);\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}