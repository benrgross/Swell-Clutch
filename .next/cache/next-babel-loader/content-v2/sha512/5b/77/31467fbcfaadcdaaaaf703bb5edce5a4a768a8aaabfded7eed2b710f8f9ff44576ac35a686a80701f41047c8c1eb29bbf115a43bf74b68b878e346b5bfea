{"ast":null,"code":"import _asyncToGenerator from \"/Users/bengross/Desktop/Swell Clutch/Swell-Clutch/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/bengross/Desktop/Swell Clutch/Swell-Clutch/components/ImageUploader.js\";\nimport _regeneratorRuntime from \"/Users/bengross/Desktop/Swell Clutch/Swell-Clutch/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport \"react-dropzone-uploader/dist/styles.css\";\nimport Dropzone from \"react-dropzone-uploader\";\nimport S3 from \"../lib/AWS\";\nimport axios from \"axios\";\nimport { server } from \"../config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ImageUploader() {\n  var handleChangeStatus = function handleChangeStatus(_ref, status) {\n    var meta = _ref.meta,\n        remove = _ref.remove;\n    console.log(status, meta);\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(files) {\n      var _yield$axios$post, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.post(\"\".concat(server, \"/api/getUploadImage\"), files);\n\n            case 2:\n              _yield$axios$post = _context.sent;\n              data = _yield$axios$post.data;\n              console.log(data); // // * GET request: presigned URL\n              // const response = await axios.get(\n              //   `https://11k2bj0e8j.execute-api.us-east-2.amazonaws.com/default/getPresignedImageURL`\n              // );\n              // console.log(\"Response: \", response);\n              // // * PUT request: upload file to S3\n              // // follow youtube for https://www.youtube.com/watch?v=V45ymCXBpUM\n              // // movie call to api backend.\n              // // use the S3 client\n              // const result = await fetch(response.data.uploadURL, {\n              //   method: \"PUT\",\n              //   headers: {\n              //     ContentType: \"image/jpeg, image/png, image/heic, mov/mp4\",\n              //   },\n              //   body: f[\"file\"],\n              // });\n              // console.log(\"Result: \", result);\n              // const fileName = response.data.Key;\n              // const params = {\n              //   Bucket: \"swell-clutch\",\n              //   Key: fileName,\n              //   Expires: 7776000,\n              // };\n              // const signedURL = S3.getSignedUrl(\"getObject\", params);\n              // console.log(\"url\", signedURL);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(Dropzone, {\n    onChangeStatus: handleChangeStatus,\n    onSubmit: handleSubmit,\n    hello: true,\n    maxFiles: 1,\n    multiple: false,\n    canCancel: false,\n    inputContent: \"Add A Photo\",\n    styles: {\n      dropzone: {\n        width: 200,\n        height: 10\n      },\n      dropzoneActive: {\n        borderColor: \"green\"\n      }\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n\n_c = ImageUploader;\nexport default ImageUploader;\n\nvar _c;\n\n$RefreshReg$(_c, \"ImageUploader\");","map":{"version":3,"sources":["/Users/bengross/Desktop/Swell Clutch/Swell-Clutch/components/ImageUploader.js"],"names":["Dropzone","S3","axios","server","ImageUploader","handleChangeStatus","status","meta","remove","console","log","handleSubmit","files","post","data","dropzone","width","height","dropzoneActive","borderColor"],"mappings":";;;AAAA,OAAO,yCAAP;AACA,OAAOA,QAAP,MAAqB,yBAArB;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,WAAvB;;;AAEA,SAASC,aAAT,GAAyB;AACvB,MAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,OAAmBC,MAAnB,EAA8B;AAAA,QAA3BC,IAA2B,QAA3BA,IAA2B;AAAA,QAArBC,MAAqB,QAArBA,MAAqB;AACvDC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ,EAAoBC,IAApB;AACD,GAFD;;AAGA,MAAMI,YAAY;AAAA,yEAAG,iBAAOC,KAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACIV,KAAK,CAACW,IAAN,WAAcV,MAAd,0BAA2CS,KAA3C,CADJ;;AAAA;AAAA;AACXE,cAAAA,IADW,qBACXA,IADW;AAEnBL,cAAAA,OAAO,CAACC,GAAR,CAAYI,IAAZ,EAFmB,CAInB;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;;AAnCmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZH,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAsCA,sBACE,QAAC,QAAD;AACE,IAAA,cAAc,EAAEN,kBADlB;AAEE,IAAA,QAAQ,EAAEM,YAFZ;AAGE,IAAA,KAAK,MAHP;AAIE,IAAA,QAAQ,EAAE,CAJZ;AAKE,IAAA,QAAQ,EAAE,KALZ;AAME,IAAA,SAAS,EAAE,KANb;AAOE,IAAA,YAAY,EAAC,aAPf;AAQE,IAAA,MAAM,EAAE;AACNI,MAAAA,QAAQ,EAAE;AAAEC,QAAAA,KAAK,EAAE,GAAT;AAAcC,QAAAA,MAAM,EAAE;AAAtB,OADJ;AAENC,MAAAA,cAAc,EAAE;AAAEC,QAAAA,WAAW,EAAE;AAAf;AAFV;AARV;AAAA;AAAA;AAAA;AAAA,UADF;AAeD;;KAzDQf,a;AA2DT,eAAeA,aAAf","sourcesContent":["import \"react-dropzone-uploader/dist/styles.css\";\nimport Dropzone from \"react-dropzone-uploader\";\nimport S3 from \"../lib/AWS\";\nimport axios from \"axios\";\nimport { server } from \"../config\";\n\nfunction ImageUploader() {\n  const handleChangeStatus = ({ meta, remove }, status) => {\n    console.log(status, meta);\n  };\n  const handleSubmit = async (files) => {\n    const { data } = await axios.post(`${server}/api/getUploadImage`, files);\n    console.log(data);\n\n    // // * GET request: presigned URL\n    // const response = await axios.get(\n    //   `https://11k2bj0e8j.execute-api.us-east-2.amazonaws.com/default/getPresignedImageURL`\n    // );\n\n    // console.log(\"Response: \", response);\n\n    // // * PUT request: upload file to S3\n\n    // // follow youtube for https://www.youtube.com/watch?v=V45ymCXBpUM\n    // // movie call to api backend.\n    // // use the S3 client\n    // const result = await fetch(response.data.uploadURL, {\n    //   method: \"PUT\",\n    //   headers: {\n    //     ContentType: \"image/jpeg, image/png, image/heic, mov/mp4\",\n    //   },\n    //   body: f[\"file\"],\n    // });\n    // console.log(\"Result: \", result);\n\n    // const fileName = response.data.Key;\n\n    // const params = {\n    //   Bucket: \"swell-clutch\",\n    //   Key: fileName,\n    //   Expires: 7776000,\n    // };\n\n    // const signedURL = S3.getSignedUrl(\"getObject\", params);\n\n    // console.log(\"url\", signedURL);\n  };\n\n  return (\n    <Dropzone\n      onChangeStatus={handleChangeStatus}\n      onSubmit={handleSubmit}\n      hello\n      maxFiles={1}\n      multiple={false}\n      canCancel={false}\n      inputContent=\"Add A Photo\"\n      styles={{\n        dropzone: { width: 200, height: 10 },\n        dropzoneActive: { borderColor: \"green\" },\n      }}\n    />\n  );\n}\n\nexport default ImageUploader;\n"]},"metadata":{},"sourceType":"module"}